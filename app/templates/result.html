{% extends "base.html" %}

{% block content %}
<div class="max-w-4xl mx-auto bg-white p-8 rounded-lg shadow-md">
    <h2 class="text-2xl font-bold mb-6">Resultados del Análisis</h2>
    
    <div class="space-y-8">
        <!-- Predicciones -->
        <div class="space-y-4">
            <h3 class="text-xl font-semibold">Predicciones de Género</h3>
            <div class="grid gap-4">
                {% for pred in resultado %}
                <div class="bg-gray-50 p-4 rounded-lg">
                    <div class="flex justify-between items-center">
                        <span class="font-medium">{{ pred.genero }}</span>
                        <span class="text-blue-600">{{ "%.2f"|format(pred.probabilidad) }}%</span>
                    </div>
                    <div class="mt-2 bg-gray-200 rounded-full h-2">
                        <div class="bg-blue-600 rounded-full h-2" 
                             style="width: {{ pred.probabilidad }}%"></div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
        
        <!-- Espectrogramas -->
        <div class="space-y-4">
            <h3 class="text-xl font-semibold">Análisis Espectral</h3>
            <div class="grid md:grid-cols-2 gap-4">
                <div>
                    <h4 class="font-medium mb-2">Espectrograma MEL</h4>
                    <img src="data:image/png;base64,{{ espectrogramas.mel }}" 
                         alt="Espectrograma MEL" 
                         class="w-full rounded-lg shadow">
                </div>
                <div>
                    <h4 class="font-medium mb-2">MFCC</h4>
                    <img src="data:image/png;base64,{{ espectrogramas.mfcc }}" 
                         alt="MFCC" 
                         class="w-full rounded-lg shadow">
                </div>
            </div>
        </div>
    </div>
    
    <div class="mt-8">
        <a href="{{ url_for('main.index') }}" 
           class="inline-block bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 transition">
            Analizar otra canción
        </a>
    </div>
</div>
{% endblock %}